<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATH Horn 3D Visualizer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Space+Mono&display=swap"
        rel="stylesheet">
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
</head>

<body>
    <div id="ui-panel">
        <h1>ATH Visualizer</h1>

        <div class="section">
            <h3>EXPORT SETTINGS</h3>
            <div class="input-row">
                <label>Prefix</label>
                <input type="text" id="export-prefix" value="horn_design" style="width: 100%;">
            </div>
            <div class="input-row">
                <label>Counter</label>
                <input type="number" id="export-counter" value="1" min="1" step="1">
            </div>
        </div>

        <div class="section">
            <h3>ACTIONS</h3>
            <button id="load-config-btn" class="secondary">Load Config (.txt)</button>
            <input type="file" id="config-upload" accept=".txt,.cfg" style="display: none;">
            <button id="render-btn">Update Model</button>
            <button id="export-btn" class="secondary">Export STL</button>
            <button id="export-config-btn" class="secondary">Export ATH Config</button>
            <button id="export-csv-btn" class="secondary">Export CSV Profiles</button>
            <button id="export-geo-btn" class="secondary">Export Gmsh .geo</button>


            <div class="checkbox-group" style="margin-top: 15px;">
                <input type="checkbox" id="live-update" checked>
                <label for="live-update">Real-time Updates</label>
            </div>

            <label>Display Mode</label>
            <select id="display-mode">
                <option value="standard">Standard (Metal)</option>
                <option value="zebra">Zebra Stripes</option>
                <option value="grid">Grid / Wireframe</option>
                <option value="curvature">Curvature Map</option>
            </select>
        </div>

        <div id="param-container"></div>
    </div>

    <div id="stats">Vertices: 0 | Triangles: 0</div>
    <div id="canvas-container">
        <div class="viewer-controls">
            <button id="zoom-in" title="Zoom In">+</button>
            <button id="zoom-out" title="Zoom Out">−</button>
            <button id="camera-toggle" title="Toggle Perspective/Orthographic">⬚</button>
            <button id="focus-horn" title="Focus on Horn">⊙</button>
            <button id="zoom-reset" title="Reset View">⟲</button>
        </div>
    </div>

    <script type="module" src="src/main.js"></script>
</body>

</html>